!function(S,m,b,y){"use strict";var q=q||{};q.funcs={},q.vars={onloaded:!1,$body:S("body"),$window:S(m),$document:S(b),is_rtl:S("body").hasClass("rtl"),code_themes:[]},q.helper={uid:function(e){return(e||"")+Math.random().toString(36).substr(2,9)},preg_quote:function(e){return(e+"").replace(/(\[|\-|\])/g,"\\$1")},name_nested_replace:function(e,a){var t=new RegExp("("+q.helper.preg_quote(a)+")\\[(\\d+)\\]","g");e.find(":radio").each(function(){(this.checked||this.orginal_checked)&&(this.orginal_checked=!0)}),e.each(function(e){S(this).find(":input").each(function(){this.name=this.name.replace(t,a+"["+e+"]"),this.orginal_checked&&(this.checked=!0)})})},debounce:function(n,i,l){var s;return function(){var e=this,a=arguments,t=l&&!s;clearTimeout(s),s=setTimeout(function(){s=null,l||n.apply(e,a)},i),t&&n.apply(e,a)}},get_cookie:function(e){var a,t=b.cookie,n=e+"=";if(t){if(-1===(a=t.indexOf("; "+n))){if(0!==(a=t.indexOf(n)))return null}else a+=2;return-1===(e=t.indexOf(";",a))&&(e=t.length),decodeURIComponent(t.substring(a+n.length,e))}},set_cookie:function(e,a,t,n,i,l){var s=new Date;t="object"==typeof t&&t.toGMTString?t.toGMTString():parseInt(t,10)?(s.setTime(s.getTime()+1e3*parseInt(t,10)),s.toGMTString()):"",b.cookie=e+"="+encodeURIComponent(a)+(t?"; expires="+t:"")+(n?"; path="+n:"")+(i?"; domain="+i:"")+(l?"; secure":"")},remove_cookie:function(e,a,t,n){q.helper.set_cookie(e,"",-1e3,a,t,n)}},S.fn.lasf_clone=function(){for(var e=S.fn.clone.apply(this,arguments),a=this.find("select").add(this.filter("select")),t=e.find("select").add(e.filter("select")),n=0;n<a.length;++n)for(var i=0;i<a[n].options.length;++i)!0===a[n].options[i].selected&&(t[n].options[i].selected=!0);return this.find(":radio").each(function(){this.orginal_checked=this.checked}),e},S.fn.lasf_expand_all=function(){return this.each(function(){S(this).on("click",function(e){e.preventDefault(),S(".lasf-wrapper").toggleClass("lasf-show-all"),S(".lasf-section").lasf_reload_script(),S(this).find(".fa").toggleClass("fa-indent").toggleClass("fa-outdent")})})},S.fn.lasf_nav_options=function(){return this.each(function(){var t,e=S(this),n=e.find("a"),i=e.closest(".lasf").find(".lasf-section-id");S(m).on("lasf.hashchange hashchange",function(){var e=m.location.hash.match(new RegExp("tab=([^&]*)")),a=e?e[1]:n.first().attr("href").replace("#tab=",""),e=S("#lasf-tab-link-"+a);0<e.length&&(e.closest(".lasf-tab-depth-0").addClass("lasf-tab-active").siblings().removeClass("lasf-tab-active"),n.removeClass("lasf-section-active"),e.addClass("lasf-section-active"),t!==y&&t.hide(),(e=S("#lasf-section-"+a)).css({display:"block"}),e.lasf_reload_script(),i.val(a),t=e)});var a=m.location.hash.match(new RegExp("tab=([^&]*)")),a=a?a[1]:n.first().attr("href").replace("#tab=","");0<S("#lasf-tab-link-"+a).length&&S(m).trigger("lasf.hashchange"),e.on("click",".lasf-tab-depth-0 > a",function(e){var a=S(this).closest("li");a.hasClass("lasf-tab-active")?a.removeClass("lasf-tab-active"):a.addClass("lasf-tab-active")})})},S.fn.lasf_nav_metabox=function(){return this.each(function(){var n,i,e=S(this),a=e.find("a"),l=e.data("unique"),s=S("#post_ID").val()||"global";a.on("click",function(e){e.preventDefault();var a=S(this),t=a.data("section");i!==y&&i.removeClass("lasf-section-active"),n!==y&&n.hide(),a.addClass("lasf-section-active");e=S("#lasf-section-"+t);e.css({display:"block"}),e.lasf_reload_script(),q.helper.set_cookie("lasf-last-metabox-tab-"+s+"-"+l,t),n=e,i=a});var t=q.helper.get_cookie("lasf-last-metabox-tab-"+s+"-"+l);(t?e.find('a[data-section="'+t+'"]'):a.first("a")).trigger("click")})},S.fn.lasf_page_templates=function(){this.length&&S(b).on("change",".editor-page-attributes__template select, #page_template",function(){var e=S(this).val()||"default";S(".lasf-page-templates").removeClass("lasf-show").addClass("lasf-hide"),S(".lasf-page-"+e.toLowerCase().replace(/[^a-zA-Z0-9]+/g,"-")).removeClass("lasf-hide").addClass("lasf-show")})},S.fn.lasf_post_formats=function(){this.length&&S(b).on("change",'.editor-post-format select, #formatdiv input[name="post_format"]',function(){var e="0"===(e=S(this).val()||"default")?"default":e;S(".lasf-post-formats").removeClass("lasf-show").addClass("lasf-hide"),S(".lasf-post-format-"+e).removeClass("lasf-hide").addClass("lasf-show")})},S.fn.lasf_search=function(){return this.each(function(){S(this).find("input").on("change keyup",function(){var a=S(this).val(),e=S(".lasf-wrapper"),t=e.find(".lasf-section").find("> .lasf-field:not(.hidden)"),n=t.find("> .lasf-title, .lasf-search-tags");3<a.length?(t.addClass("lasf-hidden"),e.addClass("lasf-search-all"),n.each(function(){var e=S(this);e.text().match(new RegExp(".*?"+a+".*?","i"))&&((e=e.closest(".lasf-field")).removeClass("lasf-hidden"),e.parent().lasf_reload_script())})):(t.removeClass("lasf-hidden"),e.removeClass("lasf-search-all"))})})},S.fn.lasf_sticky=function(){return this.each(function(){function e(){r||requestAnimationFrame(function(){var e,a;e=t.offset().top,a=Math.max(32,e-s),e=Math.max(b.documentElement.clientWidth,m.innerWidth||0),a<=32&&782<e?(i.css({width:t.outerWidth()-l}),t.css({height:t.outerHeight()}).addClass("lasf-sticky")):(i.removeAttr("style"),t.removeAttr("style").removeClass("lasf-sticky")),r=!1}),r=!0}function a(){s=n.scrollTop(),e()}var t=S(this),n=S(m),i=t.find(".lasf-header-inner"),l=parseInt(i.css("padding-left"))+parseInt(i.css("padding-right")),s=0,r=!1;n.on("scroll resize",a),a()})},S.fn.lasf_dependency=function(){return this.each(function(){var e=S(this),a=S.lasf_deps.createRuleset(),r=[],t=!1;e.children("[data-controller]").each(function(){var n=S(this),e=n.data("controller").split("|"),i=n.data("condition").split("|"),l=n.data("value").toString().split("|"),s=a;n.data("depend-global")&&(t=!0),S.each(e,function(e,a){var t=l[e]||"",e=i[e]||i[0];(s=s.createRule('[data-depend-id="'+a+'"]',e,t)).include(n),r.push(a)})}),r.length&&(t?S.lasf_deps.enable(q.vars.$body,a,r):S.lasf_deps.enable(e,a,r))})},S.fn.lasf_field_accordion=function(){return this.each(function(){S(this).find(".lasf-accordion-title").on("click",function(){var e=S(this),a=e.find(".lasf-accordion-icon"),e=e.next();a.hasClass("fa-angle-right")?a.removeClass("fa-angle-right").addClass("fa-angle-down"):a.removeClass("fa-angle-down").addClass("fa-angle-right"),e.data("opened")||(e.lasf_reload_script(),e.data("opened",!0)),e.toggleClass("lasf-accordion-open")})})},S.fn.lasf_field_backup=function(){return this.each(function(){var a=this,t=S(this),n=(S("body"),t.find(".lasf-import")),i=t.find(".lasf-reset");n.on("click",function(e){e.preventDefault(),q.vars.is_confirm&&(n.hasClass("loading")||(n.addClass("loading"),n.attr("data-old_text",n.text()).html(m.lasf_vars.i18n.import_notification),m.wp.ajax.post("lasf-import",{unique:n.data("unique"),nonce:n.data("nonce"),import_data:t.find(".lasf-import-data").val()}).done(function(e){n.html(n.attr("data-old_text")).removeClass("loading"),m.location.reload()}).fail(function(e){n.html(n.attr("data-old_text")).removeClass("loading"),alert(e.error)})))}),m.wp.customize!==y&&(a.notification=function(e){wp.customize.notifications&&wp.customize.OverlayNotification&&(wp.customize.state("saved").get()||(wp.customize.state("changesetStatus").set("trash"),wp.customize.each(function(e){e._dirty=!1}),wp.customize.state("saved").set(!0)),wp.customize.notifications.add(new wp.customize.OverlayNotification("lasf_field_backup_notification",{type:"info",message:e,loading:!0})))},i.on("click",function(e){e.preventDefault(),q.vars.is_confirm&&(a.notification(m.lasf_vars.i18n.reset_notification),m.wp.ajax.post("lasf-reset",{unique:i.data("unique"),nonce:i.data("nonce")}).done(function(e){m.location.reload(!0)}).fail(function(e){alert(e.error),wp.customize.notifications.remove("lasf_field_backup_notification")}))}),n.on("click",function(e){e.preventDefault(),alert("hello"),q.vars.is_confirm&&(a.notification(m.lasf_vars.i18n.import_notification),m.wp.ajax.post("lasf-import",{unique:n.data("unique"),nonce:n.data("nonce"),import_data:t.find(".lasf-import-data").val()}).done(function(e){m.location.reload(!0)}).fail(function(e){alert(e.error),wp.customize.notifications.remove("lasf_field_backup_notification")}))}))})},S.fn.lasf_field_background=function(){return this.each(function(){S(this).find(".lasf--media").lasf_reload_script()})},S.fn.lasf_field_code_editor=function(){return this.each(function(){var e,n,a,i,l;"undefined"!=typeof CodeMirror&&(e=S(this),n=e.find("textarea"),a=e.find(".CodeMirror"),i=n.data("editor"),a.length&&a.remove(),l=setInterval(function(){var t;e.is(":visible")&&((t=wp.codeEditor.initialize(n[0],i)).codemirror.on("change",function(e,a){n.val(t.codemirror.getValue()).trigger("change")}),clearInterval(l))}))})},S.fn.lasf_field_date=function(){return this.each(function(){var e=S(this),t=e.find("input"),n=e.find(".lasf-date-settings").data("settings"),e={showAnim:"",beforeShow:function(e,a){S(a.dpDiv).addClass("lasf-datepicker-wrapper")},onClose:function(e,a){S(a.dpDiv).removeClass("lasf-datepicker-wrapper")}},n=S.extend({},n,e);2===t.length&&(n=S.extend({},n,{onSelect:function(e){S(this),t.first();var a=t.first().attr("id")===S(this).attr("id")?"minDate":"maxDate",e=S.datepicker.parseDate(n.dateFormat,e);t.not(this).datepicker("option",a,e)}})),t.each(function(){var e=S(this);e.hasClass("hasDatepicker")&&e.removeAttr("id").removeClass("hasDatepicker"),e.datepicker(n)})})},S.fn.lasf_field_fieldset=function(){return this.each(function(){S(this).find(".lasf-fieldset-content").lasf_reload_script()})},S.fn.lasf_field_gallery=function(){return this.each(function(){var i,e=S(this),l=e.find(".lasf-edit-gallery"),s=e.find(".lasf-clear-gallery"),r=e.find("ul"),o=e.find("input");e.find("img");e.on("click",".lasf-button, .lasf-edit-gallery",function(e){var a=S(this),t=o.val(),n=a.hasClass("lasf-edit-gallery")?"edit":"add",a="add"!=n||t.length?"gallery-edit":"gallery";e.preventDefault(),void 0!==m.wp&&m.wp.media&&m.wp.media.gallery&&("gallery"==a?(i=m.wp.media({library:{type:"image"},frame:"post",state:"gallery",multiple:!0})).open():(i=m.wp.media.gallery.edit('[gallery ids="'+t+'"]'),"add"==n&&i.setState("gallery-library")),i.on("update",function(e){r.empty();e=e.models.map(function(e){var a=e.toJSON(),e=(void 0!==a.sizes.thumbnail?a.sizes.thumbnail:a).url;return r.append('<li><img src="'+e+'"></li>'),a.id});o.val(e.join(",")).trigger("change"),s.removeClass("hidden"),l.removeClass("hidden")}))}),s.on("click",function(e){e.preventDefault(),r.empty(),o.val("").trigger("change"),s.addClass("hidden"),l.addClass("hidden")})})},S.fn.lasf_field_group=function(){return this.each(function(){var e=S(this),a=e.children(".lasf-fieldset"),a=a.length?a:e,s=a.children(".lasf-cloneable-wrapper"),n=a.children(".lasf-cloneable-hidden"),r=a.children(".lasf-cloneable-max"),o=a.children(".lasf-cloneable-min"),f=s.data("field-id"),i=s.data("unique-id"),d=Boolean(Number(s.data("title-number"))),c=parseInt(s.data("max")),t=parseInt(s.data("min"));s.hasClass("ui-accordion")&&s.find(".ui-accordion-header-icon").remove();function h(e){e.find(".lasf-cloneable-title-number").each(function(e){S(this).html(S(this).closest(".lasf-cloneable-item").index()+1+".")})}s.accordion({header:"> .lasf-cloneable-item > .lasf-cloneable-title",collapsible:!0,active:!1,animate:!1,heightStyle:"content",icons:{header:"lasf-cloneable-header-icon fa fa-angle-right",activeHeader:"lasf-cloneable-header-icon fa fa-angle-down"},activate:function(e,a){var t,n,i=a.newPanel,l=a.newHeader;i.length&&!i.data("opened")?(a=i.children(),t=a.first().find(":input").first(),n=l.find(".lasf-cloneable-value"),a.first().hasClass("lasf-field-select")?(t=a.first().find("select").first()).on("change",function(e){n.text(t.find("option:selected").html())}):t.on("keyup",function(e){n.text(t.val())}),i.lasf_reload_script(),i.data("opened",!0),i.data("retry",!1)):i.data("retry")&&(i.lasf_reload_script_retry(),i.data("retry",!1))}}),s.sortable({axis:"y",handle:".lasf-cloneable-title,.lasf-cloneable-sort",helper:"original",cursor:"move",placeholder:"widget-placeholder",start:function(e,a){s.accordion({active:!1}),s.sortable("refreshPositions"),a.item.children(".lasf-cloneable-content").data("retry",!0)},update:function(e,a){q.helper.name_nested_replace(s.children(".lasf-cloneable-item"),f),s.lasf_customizer_refresh(),d&&h(s)}}),a.children(".lasf-cloneable-add").on("click",function(e){e.preventDefault();var a,t=s.children(".lasf-cloneable-item").length;o.hide(),c&&c<t+1?r.show():(a=i+f+"["+t+"]",(e=n.lasf_clone(!0)).removeClass("lasf-cloneable-hidden"),e.find(":input").each(function(){""!=this.name&&(this.name=a+this.name.replace(this.name.startsWith("_nonce")?"_nonce":i,""))}),e.find(".lasf-data-wrapper").each(function(){S(this).attr("data-unique-id",a)}),s.append(e),s.accordion("refresh"),s.accordion({active:t}),s.lasf_customizer_refresh(),s.lasf_customizer_listen({closest:!0}),d&&h(s))});e=function(e){e.preventDefault();var a,t,n,i,l=s.children(".lasf-cloneable-item").length;o.hide(),c&&c<l+1?r.show():(t=(a=S(this).parent().parent()).children(".lasf-cloneable-helper").lasf_clone(!0),n=a.children(".lasf-cloneable-title").lasf_clone(),e=a.children(".lasf-cloneable-content").lasf_clone(),i=new RegExp("("+q.helper.preg_quote(f)+")\\[(\\d+)\\]","g"),e.find(".lasf-data-wrapper").each(function(){var e=S(this);e.attr("data-unique-id",e.attr("data-unique-id").replace(i,f+"["+(a.index()+1)+"]"))}),(l=S('<div class="lasf-cloneable-item" />')).append(t),l.append(n),l.append(e),s.children().eq(a.index()).after(l),q.helper.name_nested_replace(s.children(".lasf-cloneable-item"),f),s.accordion("refresh"),s.lasf_customizer_refresh(),s.lasf_customizer_listen({closest:!0}),d&&h(s))};s.children(".lasf-cloneable-item").children(".lasf-cloneable-helper").on("click",".lasf-cloneable-clone",e),a.children(".lasf-cloneable-hidden").children(".lasf-cloneable-helper").on("click",".lasf-cloneable-clone",e);e=function(e){e.preventDefault();e=s.children(".lasf-cloneable-item").length;r.hide(),o.hide(),t&&e-1<t?o.show():(S(this).closest(".lasf-cloneable-item").remove(),q.helper.name_nested_replace(s.children(".lasf-cloneable-item"),f),s.lasf_customizer_refresh(),d&&h(s))};s.children(".lasf-cloneable-item").children(".lasf-cloneable-helper").on("click",".lasf-cloneable-remove",e),a.children(".lasf-cloneable-hidden").children(".lasf-cloneable-helper").on("click",".lasf-cloneable-remove",e)})},S.fn.lasf_field_icon=function(){return this.each(function(){var t=S(this);t.on("click",".lasf-icon-add",function(e){e.preventDefault();var e=S(this),a=S("#lasf-modal-icon");a.show(),q.vars.$icon_target=t,q.vars.icon_modal_loaded||(a.find(".lasf-modal-loading").show(),m.wp.ajax.post("lasf-get-icons",{nonce:e.data("nonce")}).done(function(e){a.find(".lasf-modal-loading").hide(),q.vars.icon_modal_loaded=!0;var t=a.find(".lasf-modal-load").html(e.content);t.on("click","a",function(e){e.preventDefault();e=S(this).data("lasf-icon");q.vars.$icon_target.find("i").removeAttr("class").addClass(e),q.vars.$icon_target.find("input").val(e).trigger("change"),q.vars.$icon_target.find(".lasf-icon-preview").removeClass("hidden"),q.vars.$icon_target.find(".lasf-icon-remove").removeClass("hidden"),a.hide()}),a.on("change keyup",".lasf-icon-search",function(){var a=S(this).val();t.find("a").each(function(){var e=S(this);e.data("lasf-icon").search(new RegExp(a,"i"))<0?e.hide():e.show()})}),a.on("click",".lasf-modal-close, .lasf-modal-overlay",function(){a.hide()})}))}),t.on("click",".lasf-icon-remove",function(e){e.preventDefault(),t.find(".lasf-icon-preview").addClass("hidden"),t.find("input").val("").trigger("change"),S(this).addClass("hidden")})})},S.fn.lasf_field_media=function(){return this.each(function(){var t,n=S(this),i=n.find(".lasf--button"),l=n.find(".lasf--remove"),a=i.data("library")&&i.data("library").split(",")||"";i.on("click",function(e){e.preventDefault(),void 0!==m.wp&&m.wp.media&&m.wp.media.gallery&&(t||(t=m.wp.media({library:{type:a}})).on("select",function(){var e=t.state().get("selection").first().attributes,a=i.data("preview-size")||"thumbnail";n.find(".lasf--url").val(e.url),n.find(".lasf--id").val(e.id),n.find(".lasf--width").val(e.width),n.find(".lasf--height").val(e.height),n.find(".lasf--alt").val(e.alt),n.find(".lasf--title").val(e.title),n.find(".lasf--description").val(e.description),e=void 0!==e.sizes&&void 0!==e.sizes.thumbnail&&"thumbnail"===a?e.sizes.thumbnail.url:void 0!==e.sizes&&void 0!==e.sizes.full?e.sizes.full.url:e.icon,l.removeClass("hidden"),n.find(".lasf--preview").removeClass("hidden"),n.find(".lasf--src").attr("src",e),n.find(".lasf--thumbnail").val(e).trigger("change")}),t.open())}),l.on("click",function(e){e.preventDefault(),l.addClass("hidden"),n.find(".lasf--preview").addClass("hidden"),n.find("input").val(""),n.find(".lasf--thumbnail").trigger("change")})})},S.fn.lasf_field_repeater=function(){return this.each(function(){var e=S(this),a=e.children(".lasf-fieldset"),a=a.length?a:e,l=a.children(".lasf-repeater-wrapper"),t=a.children(".lasf-repeater-hidden"),s=a.children(".lasf-repeater-max"),r=a.children(".lasf-repeater-min"),o=l.data("field-id"),n=l.data("unique-id"),f=parseInt(l.data("max")),i=parseInt(l.data("min"));l.children(".lasf-repeater-item").children(".lasf-repeater-content").lasf_reload_script(),l.sortable({axis:"y",handle:".lasf-repeater-sort",helper:"original",cursor:"move",placeholder:"widget-placeholder",update:function(e,a){q.helper.name_nested_replace(l.children(".lasf-repeater-item"),o),l.lasf_customizer_refresh(),a.item.lasf_reload_script_retry()}}),a.children(".lasf-repeater-add").on("click",function(e){e.preventDefault();var a,e=l.children(".lasf-repeater-item").length;r.hide(),f&&f<e+1?s.show():(a=n+o+"["+e+"]",(e=t.lasf_clone(!0)).removeClass("lasf-repeater-hidden"),e.find(":input").each(function(){this.name=a+this.name.replace(this.name.startsWith("_nonce")?"_nonce":n,"")}),e.find(".lasf-data-wrapper").each(function(){S(this).attr("data-unique-id",a)}),l.append(e),e.children(".lasf-repeater-content").lasf_reload_script(),l.lasf_customizer_refresh(),l.lasf_customizer_listen({closest:!0}))});e=function(e){e.preventDefault();var a,t,n,i=l.children(".lasf-repeater-item").length;r.hide(),f&&f<i+1?s.show():(t=(a=S(this).parent().parent().parent()).children(".lasf-repeater-content").lasf_clone(),e=a.children(".lasf-repeater-helper").lasf_clone(!0),n=new RegExp("("+q.helper.preg_quote(o)+")\\[(\\d+)\\]","g"),t.find(".lasf-data-wrapper").each(function(){var e=S(this);e.attr("data-unique-id",e.attr("data-unique-id").replace(n,o+"["+(a.index()+1)+"]"))}),(i=S('<div class="lasf-repeater-item" />')).append(t),i.append(e),l.children().eq(a.index()).after(i),i.children(".lasf-repeater-content").lasf_reload_script(),q.helper.name_nested_replace(l.children(".lasf-repeater-item"),o),l.lasf_customizer_refresh(),l.lasf_customizer_listen({closest:!0}))};l.children(".lasf-repeater-item").children(".lasf-repeater-helper").on("click",".lasf-repeater-clone",e),a.children(".lasf-repeater-hidden").children(".lasf-repeater-helper").on("click",".lasf-repeater-clone",e);e=function(e){e.preventDefault();e=l.children(".lasf-repeater-item").length;s.hide(),r.hide(),i&&e-1<i?r.show():(S(this).closest(".lasf-repeater-item").remove(),q.helper.name_nested_replace(l.children(".lasf-repeater-item"),o),l.lasf_customizer_refresh())};l.children(".lasf-repeater-item").children(".lasf-repeater-helper").on("click",".lasf-repeater-remove",e),a.children(".lasf-repeater-hidden").children(".lasf-repeater-helper").on("click",".lasf-repeater-remove",e)})},S.fn.lasf_field_slider=function(){return this.each(function(){var e=S(this),t=e.find("input"),a=e.find(".lasf-slider-ui"),n=t.data(),e=t.val()||0;a.hasClass("ui-slider")&&a.empty(),a.slider({range:"min",value:e,min:n.min,max:n.max,step:n.step,slide:function(e,a){t.val(a.value).trigger("change")}}),t.keyup(function(){a.slider("value",t.val())})})},S.fn.lasf_field_sortable=function(){return this.each(function(){var t=S(this).find(".lasf--sortable");t.sortable({axis:"y",helper:"original",cursor:"move",placeholder:"widget-placeholder",update:function(e,a){t.lasf_customizer_refresh()}}),t.find(".lasf--sortable-content").lasf_reload_script()})},S.fn.lasf_field_sorter=function(){return this.each(function(){var n=S(this),e=n.find(".lasf-enabled"),a=n.find(".lasf-disabled"),a=!!a.length&&a;e.sortable({connectWith:a,placeholder:"ui-sortable-placeholder",update:function(e,a){var t=a.item.find("input");a.item.parent().hasClass("lasf-enabled")?t.attr("name",t.attr("name").replace("disabled","enabled")):t.attr("name",t.attr("name").replace("enabled","disabled")),n.lasf_customizer_refresh()}}),a&&a.sortable({connectWith:e,placeholder:"ui-sortable-placeholder",update:function(e,a){n.lasf_customizer_refresh()}})})},S.fn.lasf_field_spinner=function(){return this.each(function(){var e=S(this),t=e.find("input"),e=e.find(".ui-spinner-button");e.length&&e.remove(),t.spinner({max:t.data("max")||100,min:t.data("min")||0,step:t.data("step")||1,spin:function(e,a){t.val(a.value).trigger("change")}})})},S.fn.lasf_field_switcher=function(){return this.each(function(){var t=S(this).find(".lasf--switcher");t.on("click",function(){var e=0,a=t.find("input");t.hasClass("lasf--active")?t.removeClass("lasf--active"):(e=1,t.addClass("lasf--active")),a.val(e).trigger("change")})})},S.fn.lasf_field_tabbed=function(){return this.each(function(){var e=S(this),a=e.find(".lasf-tabbed-nav a"),t=e.find(".lasf-tabbed-section");t.eq(0).lasf_reload_script(),a.on("click",function(e){e.preventDefault();var a=S(this),e=a.index(),e=t.eq(e);a.addClass("lasf-tabbed-active").siblings().removeClass("lasf-tabbed-active"),e.lasf_reload_script(),e.removeClass("hidden").siblings().addClass("hidden")})})},S.fn.lasf_field_typography=function(){return this.each(function(){var k=this,x=S(this),n=[],z=lasf_typography_json.webfonts,a=lasf_typography_json.googlestyles,D=lasf_typography_json.defaultstyles;k.sanitize_subset=function(e){return e=(e=e.replace("-ext"," Extended")).charAt(0).toUpperCase()+e.slice(1)},k.sanitize_style=function(e){return a[e]||e},k.load_google_font=function(e,a,t){e&&"object"==typeof WebFont&&(a=a?a.replace("normal",""):"",t=t?t.replace("normal",""):"",(a||t)&&(e=e+":"+a+t),-1===n.indexOf(e)&&WebFont.load({google:{families:[e]}}),n.push(e))},k.append_select_options=function(e,a,i,l,s){e.find("option").not(":first").remove();var r="";S.each(a,function(e,a){var t=a,n=s?i&&-1!==i.indexOf(a)?" selected":"":i&&i===a?" selected":"";"subset"===l?t=k.sanitize_subset(a):"style"===l&&(t=k.sanitize_style(a)),r+='<option value="'+a+'"'+n+">"+t+"</option>"}),e.append(r).trigger("lasf.change").trigger("chosen:updated")},k.init=function(){var l=[],e=x.find(".lasf--typography"),s=x.find(".lasf--type"),v=e.data("unit"),a=e.data("exclude")?e.data("exclude").split(","):[];x.find(".lasf--chosen").length&&x.find("select").each(function(){var e=S(this),a=e.parent().find(".chosen-container");a.length&&a.remove(),e.chosen({allow_single_deselect:!0,disable_search_threshold:15,width:"100%"})});var g=x.find(".lasf--font-family"),n=g.val();g.find("option").not(":first-child").remove();var i="";S.each(z,function(t,e){a&&-1!==a.indexOf(t)||(i+='<optgroup label="'+e.label+'">',S.each(e.fonts,function(e,a){i+='<option value="'+(a="object"==typeof a?e:a)+'" data-type="'+t+'"'+(a===n?" selected":"")+">"+a+"</option>"}),i+="</optgroup>")}),g.append(i).trigger("chosen:updated");var r,o,f,d,c,h=x.find(".lasf--block-font-style");h.length&&(r=x.find(".lasf--font-style-select"),o=r.val()?r.val().replace(/normal/g,""):"",r.on("change lasf.change",function(e){var a=r.val();!a&&l&&-1===l.indexOf("normal")&&(a=l[0]);var t=a&&"italic"!==a&&"normal"===a?"normal":"",t=a&&"italic"!==a&&"normal"!==a?a.replace("italic",""):t,a=a&&"italic"===a.substr(-6)?"italic":"";x.find(".lasf--font-weight").val(t),x.find(".lasf--font-style").val(a)}),(f=x.find(".lasf--block-extra-styles")).length&&(d=x.find(".lasf--extra-styles"),c=d.val()));var p,u,_,m=x.find(".lasf--block-subset");m.length&&(p=x.find(".lasf--subset"),u=p.val(),_=p.data("multiple")||!1);var b=x.find(".lasf--block-backup-font-family");g.on("change lasf.change",function(e){m.length&&m.addClass("hidden"),f.length&&f.addClass("hidden"),b.length&&b.addClass("hidden");var a,t=g.find(":selected"),n=t.val(),i=t.data("type");i&&n?("google"!==i&&"custom"!==i||!b.length||b.removeClass("hidden"),h.length&&(a=D,"google"===i&&z[i].fonts[n][0]?a=z[i].fonts[n][0]:"custom"===i&&z[i].fonts[n]&&(a=z[i].fonts[n]),t=-1!==(l=a).indexOf("normal")?"normal":a[0],t=o&&-1!==a.indexOf(o)?o:t,k.append_select_options(r,a,t,"style"),o=!1,h.removeClass("hidden"),"google"===i&&f.length&&1<a.length&&(k.append_select_options(d,a,c,"style",!0),c=!1,f.removeClass("hidden"))),"google"===i&&m.length&&z[i].fonts[n][1]&&(n=(a=z[i].fonts[n][1]).length<2&&"latin"!==a[0]?a[0]:"",n=u&&-1!==a.indexOf(u)?u:n,n=_&&u?u:n,k.append_select_options(p,a,n,"subset",_),u=!1,m.removeClass("hidden"))):(m.length&&(p.find("option").not(":first-child").remove(),p.trigger("chosen:updated")),h.length&&(r.find("option").not(":first-child").remove(),r.trigger("chosen:updated"))),s.val(i)}).trigger("lasf.change");var t,y=x.find(".lasf-child-tabbed");y.length&&(e=y.find(".lasf-child-tab-controls a"),t=y.find(".lasf-child-tab-content"),e.on("click",function(e){e.preventDefault();var a=S(this),e=a.index(),e=t.eq(e);a.addClass("active").siblings().removeClass("active"),e.removeClass("hidden").siblings().addClass("hidden")}));var w,C=x.find(".lasf--block-preview");C.length&&(w=x.find(".lasf--preview"),x.on("change",q.helper.debounce(function(e){C.removeClass("hidden");var a=g.val(),t=x.find(".lasf--font-weight").val(),n=x.find(".lasf--font-style").val(),i=x.find(".lasf--font-size").val(),l=x.find(".lasf--font-variant").val(),s=x.find(".lasf--line-height").val(),r=x.find(".lasf--text-align").val(),o=x.find(".lasf--text-transform").val(),f=x.find(".lasf--text-decoration").val(),d=x.find(".lasf--color").val(),c=x.find(".lasf--word-spacing").val(),h=x.find(".lasf--letter-spacing").val(),p=x.find(".lasf--custom-style").val();"google"===x.find(".lasf--type").val()&&k.load_google_font(a,t,n);var u={};a&&(u.fontFamily=a),t&&(u.fontWeight=t),n&&(u.fontStyle=n),l&&(u.fontVariant=l),i&&(u.fontSize=i+v),s&&(u.lineHeight=s+v),h&&(u.letterSpacing=h+v),c&&(u.wordSpacing=c+v),r&&(u.textAlign=r),o&&(u.textTransform=o),f&&(u.textDecoration=f),d&&(u.color=d),w.removeAttr("style"),p&&w.attr("style",p),w.css(u)},100)),C.on("click",function(){w.toggleClass("lasf--black-background");var e=C.find(".lasf--toggle");e.hasClass("fa-toggle-off")?e.removeClass("fa-toggle-off").addClass("fa-toggle-on"):e.removeClass("fa-toggle-on").addClass("fa-toggle-off")}),C.hasClass("hidden")||x.trigger("change"))},k.init()})},S.fn.lasf_field_upload=function(){return this.each(function(){var a,e=S(this),t=e.find("input"),n=e.find(".lasf--button"),i=e.find(".lasf--remove"),l=n.data("library")&&n.data("library").split(",")||"";t.on("change",function(e){t.val()?i.removeClass("hidden"):i.addClass("hidden")}),n.on("click",function(e){e.preventDefault(),void 0!==m.wp&&m.wp.media&&m.wp.media.gallery&&(a||(a=m.wp.media({library:{type:l}})).on("select",function(){t.val(a.state().get("selection").first().attributes.url).trigger("change")}),a.open())}),i.on("click",function(e){e.preventDefault(),t.val("").trigger("change")})})},S.fn.lasf_confirm=function(){return this.each(function(){S(this).on("click",function(e){var a=S(this).data("confirm")||m.lasf_vars.i18n.confirm,a=confirm(a);if(q.vars.is_confirm=!0,!a)return e.preventDefault(),q.vars.is_confirm=!1})})},S.fn.serializeObject=function(){var n={};return S.each(this.serializeArray(),function(e,a){var t=a.name,a=a.value;n[t]=n[t]===y?a:S.isArray(n[t])?n[t].concat(a):[n[t],a]}),n},S.fn.lasf_save=function(){return this.each(function(){var n,i=S(this),s=S(".lasf-save"),r=S(".lasf-options"),o=!1;i.on("click",function(e){var a,t;o||(a=i.data("save"),t=i.val(),s.attr("value",a),i.hasClass("lasf-save-ajax")&&(e.preventDefault(),r.addClass("lasf-saving"),s.prop("disabled",!0),m.wp.ajax.post("lasf_"+r.data("unique")+"_ajax_save",{data:S("#lasf-form").serializeJSONLASF()}).done(function(e){clearTimeout(n);var a=S(".lasf-form-success");a.empty().append(e.notice).slideDown("fast",function(){n=setTimeout(function(){a.slideUp("fast")},2e3)}),S(".lasf-error").remove();var i,l=S(".lasf-form-error");l.empty().hide(),Object.keys(e.errors).length&&(i='<i class="lasf-label-error lasf-error">!</i>',S.each(e.errors,function(e,a){var t=S('[data-depend-id="'+e+'"]'),n=S("#lasf-tab-link-"+(t.closest(".lasf-section").index()+1)),e=n.closest(".lasf-tab-depth-0");t.closest(".lasf-fieldset").append('<p class="lasf-text-error lasf-error">'+a+"</p>"),n.find(".lasf-error").length||n.append(i),e.find(".lasf-arrow .lasf-error").length||e.find(".lasf-arrow").append(i),console.log(a),l.append("<div>"+i+" "+a+"</div>")}),l.show()),r.removeClass("lasf-saving"),s.prop("disabled",!1).attr("value",t),o=!1,q.vars.$document.trigger("lasf-saving",e)}).fail(function(e){alert(e.error)}))),o=!0})})},S.fn.lasf_taxonomy=function(){return this.each(function(){var e,a,t,n,i=S(this),l=i.parents("form");"addtag"===l.attr("id")&&(l=l.find("#submit"),e=i.find(".lasf-container"),a=e.clone(),t=S("#the-list"),n=!1,l.on("click",function(){n||t.on("DOMNodeInserted",function(){n&&(e.empty(),setTimeout(function(){e=e.html(a),a=a.clone(),e.find(".lasf-section").data("inited",!1),e.find(".lasf-section").lasf_reload_script(),n=!1},300))}),n=!0}))})},S.fn.lasf_shortcode=function(){var _=this;return _.shortcode_parse=function(e,t){var n="";return S.each(e,function(e,a){n+="["+(t=t||e),S.each(a,function(e,a){"content"===e?(n+="]",n+=a,n+="[/"+t):n+=_.shortcode_tags(e,a)}),n+="]"}),n},_.shortcode_tags=function(e,a){var t="";return""!==a&&("object"!=typeof a||S.isArray(a)?t+=" "+e.replace("-","_")+'="'+a.toString()+'"':S.each(a,function(e,a){"background-image"===e&&(a=a.url||""),""!==a&&(t+=" "+e.replace("-","_")+'="'+a.toString()+'"')})),t},_.insertAtChars=function(e,a){e=void 0!==e[0].name?e[0]:e;return e.value.length&&void 0!==e.selectionStart?(e.focus(),e.value.substring(0,e.selectionStart)+a+e.value.substring(e.selectionEnd,e.value.length)):(e.focus(),a)},_.send_to_editor=function(e,a){var t;"undefined"!=typeof tinymce&&(t=tinymce.get(a)),t&&!t.isHidden()?t.execCommand("mceInsertContent",!1,e):(a=S("#"+a)).val(_.insertAtChars(a,e)).trigger("change")},this.each(function(){var l,s,r,t,o,f,d,n,c,h=S(this),i=h.find(".lasf-modal-load"),p=(h.find(".lasf-modal-content"),h.find(".lasf-modal-insert")),u=h.find(".lasf-modal-loading"),a=h.find("select"),v=h.data("modal-id"),g=h.data("nonce");S(b).on("click",'.lasf-shortcode-button[data-modal-id="'+v+'"]',function(e){e.preventDefault(),c=S(this),l=c.data("editor-id")||!1,s=c.data("target-id")||!1,r=c.data("gutenberg-id")||!1,h.show(),h.hasClass("lasf-shortcode-single")&&o===y&&a.trigger("change")}),a.on("change",function(){var e=S(this),a=e.find(":selected");t=e.val(),o=a.data("shortcode"),f=a.data("view")||"normal",d=a.data("group")||o,i.empty(),t?(u.show(),m.wp.ajax.post("lasf-get-shortcode-"+v,{shortcode_key:t,nonce:g}).done(function(e){u.hide();e=S(e.content).appendTo(i);p.parent().removeClass("hidden"),n=e.find(".lasf--repeat-shortcode").lasf_clone(),e.lasf_reload_script(),e.find(".lasf-fields").lasf_reload_script()})):p.parent().addClass("hidden")}),p.on("click",function(e){e.preventDefault();var a,t="",n=h.find(".lasf-field:not(.hidden)").find(":input:not(.ignore)").serializeObjectLASF();switch(f){case"contents":var i=o?n[o]:n;S.each(i,function(e,a){e=o||e;t+="["+e+"]"+a+"[/"+e+"]"});break;case"group":t+="["+o,S.each(n[o],function(e,a){t+=_.shortcode_tags(e,a)}),t+="]",t+=_.shortcode_parse(n[d],d),t+="[/"+o+"]";break;case"repeater":t+=_.shortcode_parse(n[d],d);break;default:t+=_.shortcode_parse(n)}r?(a=m.lasf_gutenberg_props.attributes.hasOwnProperty("shortcode")?m.lasf_gutenberg_props.attributes.shortcode:"",m.lasf_gutenberg_props.setAttributes({shortcode:a+t})):l?_.send_to_editor(t,l):(a=s?S(s):c.parent().find("textarea")).val(_.insertAtChars(a,t)).trigger("change"),h.hide()}),h.on("click",".lasf--repeat-button",function(e){e.preventDefault();var a=h.find(".lasf--repeatable"),t=n.lasf_clone(),e=t.find(".lasf-repeat-remove");t.appendTo(a);t.find(".lasf-fields").lasf_reload_script(),q.helper.name_nested_replace(h.find(".lasf--repeat-shortcode"),d),e.on("click",function(){t.remove(),q.helper.name_nested_replace(h.find(".lasf--repeat-shortcode"),d)})}),h.on("click",".lasf-modal-close, .lasf-modal-overlay",function(){h.hide()})})},S.fn.lasf_checkbox=function(){return this.each(function(){var e=S(this),a=e.find(".lasf--input"),t=e.find(".lasf--checkbox");t.on("click",function(){a.val(Number(t.prop("checked"))).trigger("change")})})},S.fn.lasf_field_wp_editor=function(){return this.each(function(){var e,a,t,n,i,l,s,r;void 0!==m.wp.editor&&void 0!==m.tinyMCEPreInit&&void 0!==m.tinyMCEPreInit.mceInit.lasf_wp_editor&&(a=(e=S(this)).find(".lasf-wp-editor"),t=e.find("textarea"),(e.find(".wp-editor-wrap").length||e.find(".mce-container").length)&&(a.empty(),a.append(t),t.css("display","")),n=q.helper.uid("lasf-editor-"),t.attr("id",n),i={tinymce:m.tinyMCEPreInit.mceInit.lasf_wp_editor,quicktags:m.tinyMCEPreInit.qtInit.lasf_wp_editor},r=a.data("editor-settings"),(l=wp.oldEditor||wp.editor)&&l.hasOwnProperty("autop")&&(wp.editor.autop=l.autop,wp.editor.removep=l.removep,wp.editor.initialize=l.initialize),i.tinymce=S.extend({},i.tinymce,{selector:"#"+n,setup:function(e){e.on("change",q.helper.debounce(function(){e.save(),t.trigger("change")},250))}}),!1===r.tinymce&&(i.tinymce=!1,a.addClass("lasf-no-tinymce")),!1===r.quicktags&&(i.quicktags=!1,a.addClass("lasf-no-quicktags")),s=setInterval(function(){e.is(":visible")&&(m.wp.editor.initialize(n,i),clearInterval(s))}),r.media_buttons&&m.lasf_media_buttons&&((r=a.find(".wp-media-buttons")).length?r.find(".lasf-shortcode-button").data("editor-id",n):((r=S(m.lasf_media_buttons)).find(".lasf-shortcode-button").data("editor-id",n),a.prepend(r))))})},S.fn.lasf_siblings=function(){return this.each(function(){var a=S(this),e=a.find(".lasf--sibling"),t=a.data("multiple")||!1;e.on("click",function(){var e=S(this);t?e.hasClass("lasf--active")?(e.removeClass("lasf--active"),e.find("input").prop("checked",!1).trigger("change")):(e.addClass("lasf--active"),e.find("input").prop("checked",!0).trigger("change")):(a.find("input").prop("checked",!1),e.find("input").prop("checked",!0).trigger("change"),e.addClass("lasf--active").siblings().removeClass("lasf--active"))})})},"function"==typeof Color&&void 0!==Color.fn&&(Color.fn.toString=function(){if(this._alpha<1)return this.toCSS("rgba",this._alpha).replace(/\s+/g,"");var e=parseInt(this._color,10).toString(16);if(this.error)return"";if(e.length<6)for(var a=6-e.length-1;0<=a;a--)e="0"+e;return"#"+e}),q.funcs.parse_color=function(e){var a=e.replace(/\s+/g,""),e=-1!==a.indexOf("rgba")?parseFloat(100*a.replace(/^.*,(.+)\)/,"$1")):100;return{value:a,transparent:e,rgba:e<100}},S.fn.lasf_color=function(){return this.each(function(){var s,r=S(this),o=q.funcs.parse_color(r.val()),e=!m.lasf_vars.color_palette.length||m.lasf_vars.color_palette;r.hasClass("wp-color-picker")&&r.closest(".wp-picker-container").after(r).remove(),r.wpColorPicker({palettes:e,change:function(e,a){a=a.color.toString();s.removeClass("lasf--transparent-active"),s.find(".lasf--transparent-offset").css("background-color",a),r.val(a).trigger("change")},create:function(){s=r.closest(".wp-picker-container");var n=r.data("a8cIris"),a=S('<div class="lasf--transparent-wrap"><div class="lasf--transparent-slider"></div><div class="lasf--transparent-offset"></div><div class="lasf--transparent-text"></div><div class="lasf--transparent-button button button-small">transparent</div></div>').appendTo(s.find(".wp-picker-holder")),i=a.find(".lasf--transparent-slider"),l=a.find(".lasf--transparent-text"),t=a.find(".lasf--transparent-offset"),e=a.find(".lasf--transparent-button");"transparent"===r.val()&&s.addClass("lasf--transparent-active"),e.on("click",function(){"transparent"!==r.val()?(r.val("transparent").trigger("change").removeClass("iris-error"),s.addClass("lasf--transparent-active")):(r.val(n._color.toString()).trigger("change"),s.removeClass("lasf--transparent-active"))}),i.slider({value:o.transparent,step:1,min:0,max:100,slide:function(e,a){a=parseFloat(a.value/100);n._color._alpha=a,r.wpColorPicker("color",n._color.toString()),l.text(1===a||0===a?"":a)},create:function(){var e=parseFloat(o.transparent/100),e=e<1?e:"";l.text(e),t.css("background-color",o.value),s.on("click",".wp-picker-clear",function(){n._color._alpha=1,l.text(""),i.slider("option","value",100),s.removeClass("lasf--transparent-active"),r.trigger("change")}),s.on("click",".wp-picker-default",function(){var e=q.funcs.parse_color(r.data("default-color")),a=parseFloat(e.transparent/100),t=a<1?a:"";n._color._alpha=a,l.text(t),i.slider("option","value",e.transparent)}),s.on("click",".wp-color-result",function(){a.toggle()}),S("body").on("click.wpcolorpicker",function(){a.hide()})}})}})})},S.fn.lasf_chosen_old=function(){return this.each(function(){var e=S(this),a=e.parent().find(".chosen-container"),t=e.attr("multiple")||!1?"100%":"auto",t=S.extend({allow_single_deselect:!0,disable_search_threshold:15,width:t},e.data());a.length&&a.remove(),e.chosen(t)})},S.fn.lasf_chosen=function(){return this.each(function(){var t,l,s=S(this),e=s.parent().find(".chosen-container"),a=s.hasClass("lasf-chosen-sortable")||!1,n=s.hasClass("lasf-chosen-ajax")||!1,i=s.attr("multiple")||!1,r=i?"100%":"auto",r=S.extend({allow_single_deselect:!0,disable_search_threshold:10,width:r,no_results_text:m.lasf_vars.i18n.no_results_text},s.data("chosen-settings"));e.length&&e.remove(),n?(n=S.extend({data:{type:"post",nonce:""},allow_single_deselect:!0,disable_search_threshold:-1,width:"100%",min_length:3,type_delay:500,typing_text:m.lasf_vars.i18n.typing_text,searching_text:m.lasf_vars.i18n.searching_text,no_results_text:m.lasf_vars.i18n.no_results_text},s.data("chosen-settings")),s.LASFAjaxChosen(n)):s.chosen(r),i&&(i=(t=s.parent().find(".lasf-hidden-select")).val()||[],s.on("change",function(e,a){a&&a.selected?t.append('<option value="'+a.selected+'" selected="selected">'+a.selected+"</option>"):a&&a.deselected&&t.find('option[value="'+a.deselected+'"]').remove(),0===t.children().length&&m.wp.customize!==y&&m.wp.customize.control(t.data("customize-setting-link")).setting.set(""),t.trigger("change")}),s.LASFChosenOrder(i,!0)),a&&((l=s.parent().find(".chosen-container").find(".chosen-choices")).bind("mousedown",function(e){S(e.target).is("span")&&e.stopPropagation()}),l.sortable({items:"li:not(.search-field)",helper:"orginal",cursor:"move",placeholder:"search-choice-placeholder",start:function(e,a){a.placeholder.width(a.item.innerWidth()),a.placeholder.height(a.item.innerHeight())},update:function(e,a){var n="",i=s.data("chosen"),t=s.parent().find(".lasf-hidden-select");l.find(".search-choice-close").each(function(){var t=S(this).data("option-array-index");S.each(i.results_data,function(e,a){a.array_index===t&&(n+='<option value="'+a.value+'" selected>'+a.value+"</option>")})}),t.children().remove(),t.append(n),t.trigger("change")}}))})},S.fn.lasf_number=function(){return this.each(function(){S(this).on("keypress",function(e){if(0!==e.keyCode&&8!==e.keyCode&&45!==e.keyCode&&46!==e.keyCode&&(e.keyCode<48||57<e.keyCode))return!1})})},S.fn.lasf_help=function(){return this.each(function(){var e,a,t=S(this);t.on({mouseenter:function(){e=S('<div class="lasf-tooltip"></div>').html(t.find(".lasf-help-text").html()).appendTo("body"),a=q.vars.is_rtl?t.offset().left+24:t.offset().left-e.outerWidth(),e.css({top:t.offset().top-(e.outerHeight()/2-14),left:a})},mouseleave:function(){e!==y&&e.remove()}})})},S.fn.lasf_customizer_refresh=function(){return this.each(function(){var e,a,t=S(this),n=t.closest(".lasf-customize-complex");n.length?(a=n.find(":input"),e=n.data("unique-id"),n=n.data("option-id"),a=a.serializeObjectLASF(),a=S.isEmptyObject(a)?"":a[e][n],(n=wp.customize.control(e+"["+n+"]")).setting._value=null,n.setting.set(a)):t.find(":input").first().trigger("change"),S(b).trigger("lasf-customizer-refresh",t)})},S.fn.lasf_customizer_listen=function(e){var i=S.extend({closest:!1},e);return this.each(function(){var a,e,t,n;m.wp.customize!==y&&(e=(a=i.closest?S(this).closest(".lasf-customize-complex"):S(this)).find(":input"),t=a.data("unique-id"),n=a.data("option-id"),t!==y&&e.on("change keyup",q.helper.debounce(function(){var e=a.find(":input").serializeObjectLASF();!S.isEmptyObject(e)&&e[t]&&m.wp.customize.control(t+"["+n+"]").setting.set(e[t][n])},250)))})},S(b).on("expanded",".control-section-lasf",function(){var e=S(this);e.hasClass("open")&&!e.data("inited")&&(e.lasf_dependency(),e.find(".lasf-customize-field").lasf_reload_script({dependency:!1}),e.find(".lasf-customize-complex").lasf_customizer_listen(),e.data("inited",!0))}),q.vars.$window.on("resize lasf.resize",q.helper.debounce(function(e){(-1<navigator.userAgent.indexOf("AppleWebKit/")?q.vars.$window.width():m.innerWidth)<=782&&!q.vars.onloaded&&(S(".lasf-section").lasf_reload_script(),q.vars.onloaded=!0)},200)).trigger("lasf.resize"),S.fn.lasf_widgets=function(){this.length&&(S(b).on("widget-added widget-updated",function(e,a){a.find(".lasf-fields").lasf_reload_script()}),S(".widgets-sortables, .control-section-sidebar").on("sortstop",function(e,a){a.item.find(".lasf-fields").lasf_reload_script_retry()}),S(b).on("click",".widget-top",function(e){S(this).parent().find(".lasf-fields").lasf_reload_script()}))},S.fn.lasf_reload_script_retry=function(){return this.each(function(){var e=S(this);e.data("inited")&&e.children(".lasf-field-wp_editor").lasf_field_wp_editor()})},S.fn.lasf_reload_script=function(e){var a=S.extend({dependency:!0},e);return this.each(function(){var e=S(this);e.data("inited")||(e.children(".lasf-field-accordion").lasf_field_accordion(),e.children(".lasf-field-backup").lasf_field_backup(),e.children(".lasf-field-background").lasf_field_background(),e.children(".lasf-field-code_editor").lasf_field_code_editor(),e.children(".lasf-field-date").lasf_field_date(),e.children(".lasf-field-fieldset").lasf_field_fieldset(),e.children(".lasf-field-gallery").lasf_field_gallery(),e.children(".lasf-field-group").lasf_field_group(),e.children(".lasf-field-icon").lasf_field_icon(),e.children(".lasf-field-media").lasf_field_media(),e.children(".lasf-field-repeater").lasf_field_repeater(),e.children(".lasf-field-slider").lasf_field_slider(),e.children(".lasf-field-sortable").lasf_field_sortable(),e.children(".lasf-field-sorter").lasf_field_sorter(),e.children(".lasf-field-spinner").lasf_field_spinner(),e.children(".lasf-field-switcher").lasf_field_switcher(),e.children(".lasf-field-tabbed").lasf_field_tabbed(),e.children(".lasf-field-typography").lasf_field_typography(),e.children(".lasf-field-upload").lasf_field_upload(),e.children(".lasf-field-wp_editor").lasf_field_wp_editor(),e.children(".lasf-field-border").find(".lasf-color").lasf_color(),e.children(".lasf-field-background").find(".lasf-color").lasf_color(),e.children(".lasf-field-color").find(".lasf-color").lasf_color(),e.children(".lasf-field-color_group").find(".lasf-color").lasf_color(),e.children(".lasf-field-link_color").find(".lasf-color").lasf_color(),e.children(".lasf-field-typography").find(".lasf-color").lasf_color(),e.children(".lasf-field-dimensions").find(".lasf-number").lasf_number(),e.children(".lasf-field-slider").find(".lasf-number").lasf_number(),e.children(".lasf-field-spacing").find(".lasf-number").lasf_number(),e.children(".lasf-field-spinner").find(".lasf-number").lasf_number(),e.children(".lasf-field-typography").find(".lasf-number").lasf_number(),e.children(".lasf-field-select").find(".lasf-chosen").lasf_chosen(),e.children(".lasf-field-checkbox").find(".lasf-checkbox").lasf_checkbox(),e.children(".lasf-field-button_set").find(".lasf-siblings").lasf_siblings(),e.children(".lasf-field-image_select").find(".lasf-siblings").lasf_siblings(),e.children(".lasf-field-palette").find(".lasf-siblings").lasf_siblings(),e.children(".lasf-field").find(".lasf-help").lasf_help(),a.dependency&&e.lasf_dependency(),e.data("inited",!0),S(b).trigger("lasf-reload-script",e))})},S(b).ready(function(){S(".lasf-save").lasf_save(),S(".lasf-confirm").lasf_confirm(),S(".lasf-nav-options").lasf_nav_options(),S(".lasf-nav-metabox").lasf_nav_metabox(),S(".lasf-expand-all").lasf_expand_all(),S(".lasf-search").lasf_search(),S(".lasf-sticky-header").lasf_sticky(),S(".lasf-taxonomy").lasf_taxonomy(),S(".lasf-shortcode").lasf_shortcode(),S(".lasf-page-templates").lasf_page_templates(),S(".lasf-post-formats").lasf_post_formats(),S(".lasf-onload").lasf_reload_script(),S(".widget").lasf_widgets()})}(jQuery,window,document),function(t){"use strict";var n=null;t(function(){t(".lasf-button-check-plugins-for-updates").on("click",function(e){e.preventDefault();var a=t(this);if(a.hasClass("loading"))return!1;a.addClass("loading"),n&&n.abort(),n=t.ajax({type:"POST",url:ajaxurl,data:{action:"lasf_check_plugins_for_updates"},success:function(e){t(".msg",a.closest(".lasf_table")).length?t(".msg",a.closest(".lasf_table")).html(e):t("<div></div>").addClass("msg").html(e).appendTo(a.closest(".lasf_table")),a.removeClass("loading"),n=null}})})})}(jQuery);